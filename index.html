<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="MATInder">
<title>MATInder</title>


<!-- link do manifest.json -->
<link rel="manifest" href="manifest.json">
<!-- ikona dla iOS (mo≈ºesz dodaƒá sw√≥j plik) -->
<link rel="apple-touch-icon" href="images/icon1.jpg">


<style>
/* Reset i podstawy */
html,body{height:100%;margin:0;padding:0;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;background:linear-gradient(180deg,#f8f9fb,#ffffff);-webkit-font-smoothing:antialiased}
#app{height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding-top:20px;box-sizing:border-box}


/* Kontener kart */
.deck{position:relative;width:92vw;max-width:420px;height:64vh;max-height:760px;}
/* Styl kart */
.card {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  border-radius: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  overflow: hidden;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  background: #fff;
  touch-action: none;
  user-select: none;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 20px;
}

/* Overlay LIKE / NOPE */
.stamp {
  position: absolute;
  top: 20px;
  padding: 12px 18px;
  font-weight: 800;
  font-size: 22px;
  border: 4px solid;
  border-radius: 8px;
  opacity: 0;
  pointer-events: none;
  text-transform: uppercase;
  letter-spacing: 1px;
  transform: rotate(-20deg);
  background-color: rgba(255,255,255,0.8);
}

.stamp.like {
  left: 20px;
  border-color: #00c878;
  color: #00c878;
}

.stamp.nope {
  right: 20px;
  left: auto;
  border-color: #dc3c46;
  color: #dc3c46;
  transform: rotate(20deg);
}

.stamp.visible {
  opacity: 1;
}
.stamp {
  text-shadow: 2px 2px 4px rgba(0,0,0,0.25);
}

/* Informacje o profilu ‚Äì gradient t≈Ço */
.info {
  width: 92vw;
  max-width: 420px;
  padding: 16px 20px;
  box-sizing: border-box;
  margin-top: 12px;
  border-radius: 18px;
  background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.8));
  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
}

.info .title {
  font-size: 22px;
  font-weight: 800;
  color: #222;
}

.info .desc {
  margin-top: 6px;
  color: #555;
  line-height: 1.4;
  font-size: 15px;
}


/* ma≈Çe detale */
.controls{display:flex;gap:10px;margin-top:12px}
.btn{padding:10px 14px;border-radius:10px;background:#fff;box-shadow:0 6px 18px rgba(15,23,42,.06);font-weight:700}


/* animacje usuwania karty ‚Äî przej≈õcia */
.removed{transition:transform .35s ease-out,opacity .25s;opacity:0}


/* u≈Çatwienia dla overlayu zale≈ºnego od przesuniƒôcia */
.stamp.like.visible,.stamp.nope.visible{opacity:1}


/* Napisy informacyjne (ma≈Çe) */
.small{font-size:12px;color:#666;margin-top:10px}


@media (min-width:700px){
body{background:linear-gradient(180deg,#f4f6f9,#fff)}
}
</style>
</head>
<body>
<div id="app">
<div style="width:92vw;max-width:420px;display:flex;justify-content:space-between;align-items:center;padding:0 0 6px 0;box-sizing:border-box;">
<h1 style="margin:0;font-size:18px">maTINDER</h1>
<div style="font-size:12px;color:#666">‚ù§Ô∏è</div>
</div>


<div class="deck" id="deck"></div>


<div class="info" id="info">

<div class="title" id="name">‚Äî</div>
<div class="desc" id="desc">Wczytywanie...</div>
</div>




<div class="small">Matylda Adamczyk - maTINDER Premium+</div>
</div>


<script>
// ---- Model profilu ----
class Profile {
constructor(name, age, desc, images){
this.name = name;
this.age = age;
this.desc = desc;
this.images = images; // tablica urli
this.currentImage = 0;
}
nextImage(){
if(this.images.length <= 1) return;
this.currentImage = (this.currentImage + 1) % this.images.length;
}
prevImage(){
if(this.images.length <= 1) return;
this.currentImage = (this.currentImage - 1 + this.images.length) % this.images.length;
}
currentImgUrl(){
return this.images[this.currentImage];
}
}
// ---- Zahardcodowane profile ----
// ---- Profile Wiktora ----
const allProfiles  = [
  new Profile("Wiktor", 22, "186 cm. Piesek na zdjƒôciu jest m√≥j üíï", [
    "images/optimized/IMG_0527.jpg",
    "images/optimized/IMG_0669.jpg",
    "images/optimized/IMG_0697.jpg"
  ]),
  new Profile("Wiktor", 22, "Romantyk, co wierzy w mi≈Ço≈õƒá od pierwszego swipe‚Äôa üåπ", [
    "images/optimized/IMG_0803.jpg",
    "images/optimized/IMG_1650.jpg"
  ]),
  new Profile("Wiktor", 22, "Nie jestem fotografem, ale potrafiƒô Ciƒô sobie wyobraziƒá obok üì∏, Pozwiedzajmy razem zamki", [
    "images/optimized/IMG_1663.jpg",
    "images/optimized/IMG_1667.jpg",
    "images/optimized/IMG_1822.jpg"
  ]),
  new Profile("Wiktor", 22, "Mam 186 cm wzrostu i zero pomys≈Çu na opis ü§∑‚Äç‚ôÇÔ∏è", [
    "images/optimized/IMG_1842.jpg",
    "images/optimized/IMG_2103.jpg"
  ]),
  new Profile("Wiktor", 22, "Nie rozwali≈Çem windy jak co≈õ, taka ju≈º by≈Ça ", [
    "images/optimized/IMG_2126.jpg",
    "images/optimized/IMG_2140.jpg",
    "images/optimized/IMG_2176.jpg"
  ]),
  new Profile("Wiktor", 22, "Zawodowy grzybiarz", [
    "images/optimized/IMG_2240.jpg",
    "images/optimized/IMG_2336.jpg"
  ]),
  new Profile("Wiktor", 22, "Powiedz mi, ≈ºe te≈º kochasz podr√≥≈ºe, a ju≈º mamy randkƒô ‚úàÔ∏è", [
    "images/optimized/IMG_2344.jpg",
    "images/optimized/IMG_2346.jpg",
    "images/optimized/IMG_2382.jpg"
  ]),
  new Profile("Wiktor", 22, "Je≈õli umiesz ta≈Ñczyƒá ‚Äì nauczysz mnie? üíÉüï∫", [
    "images/optimized/IMG_2388.jpg",
    "images/optimized/IMG_2402.jpg"
  ]),
  new Profile("Wiktor", 22, "Chcesz pƒÖczka?", [
    "images/optimized/IMG_2448.jpg",
    "images/optimized/IMG_2497.jpg",
    "images/optimized/IMG_2798.jpg"
  ]),
  new Profile("Wiktor", 22, "ons, fwb PCK, CPK i ONZ", [
    "images/optimized/IMG_2817.jpg",
    "images/optimized/IMG_2894.jpg"
  ]),
  new Profile("Wiktor", 22, "Moje hobby: fotografia, podr√≥≈ºe i zdobywanie serca Matyldy ‚ù§Ô∏è", [
    "images/optimized/IMG_2897.jpg",
    "images/optimized/IMG_2905.jpg",
    "images/optimized/IMG_2958.jpg"
  ]),
  new Profile("Wiktor", 22, "Swipe right, je≈õli chcesz wygraƒá darmowƒÖ randkƒô üçï", [
    "images/optimized/IMG_2968.jpg",
    "images/optimized/IMG_2992.jpg"
  ]),
  new Profile("Wiktor", 22, "Pies m√≥j, dziecko ju≈º nie", [
    "images/optimized/IMG_2996.jpg",
    "images/optimized/IMG_3327.jpg",
    "images/optimized/IMG_3366.jpg"
  ]),
  new Profile("Wiktor", 22, "Przewiozƒô ciƒô mojƒÖ czerwonƒÖ CorsƒÖ, jak siƒô popsuje to umiem naprawiƒá (czasem)", [
      "images/optimized/IMG_3399.jpg",  
      "images/optimized/IMG_3386.jpg"

  ]),
  new Profile("Wiktor", 22, "Mogƒô byƒá Tw√≥j üíï", [
    "images/optimized/IMG_3452.jpg",
    "images/optimized/IMG_3481.jpg",
    "images/optimized/IMG_3680.jpg"
  ]),
  new Profile("Wiktor", 22, "Je≈õli wyglƒÖdasz jak dziewczyna na zdjƒôciu to przesu≈Ñ w prawo", [
    "images/optimized/IMG_3848.jpg",
    "images/optimized/IMG_3926.jpg"
  ]),
  new Profile("Wiktor", 22, "Chod≈∫ na piwo", [
    "images/optimized/IMG_4014.jpg",
    "images/optimized/IMG_4026.jpg",
    "images/optimized/IMG_4080.jpg"
  ]),
  new Profile("Wiktor", 22, "Gangsta in school bathroom", [
    "images/optimized/IMG_4087.jpg",
    "images/optimized/IMG_4145.jpg"
  ]),
  new Profile("Wiktor", 22, "Wykszta≈Çcony prawie jak prezydent", [
    "images/optimized/IMG_4156.jpg",
    "images/optimized/IMG_4534.jpg",
    "images/optimized/IMG_4774.jpg"
  ]),
  new Profile("Wiktor", 22, "hej:*", [
    "images/optimized/IMG_4819.jpg",
        "images/optimized/IMG_5323.jpg"

  ]),
  new Profile("Wiktor", 22, "Chod≈∫ na randkƒô do sadu", [
    "images/optimized/IMG_4931.jpg",
    "images/optimized/IMG_4944.jpg",
    "images/optimized/IMG_5021.jpg"
  ]),
  new Profile("Wiktor", 22, "Szukam przyg√≥d i szukam Matyldy ‚ù§Ô∏è", [
    "images/optimized/IMG_5095.jpg",
    "images/optimized/IMG_5134.jpg"
  ]),
  new Profile("Wiktor", 22, "Pierwsza randka na piwo czy jagodzianki?", [
    "images/optimized/IMG_5172.jpg",
    "images/optimized/IMG_5322.jpg",
        "images/optimized/IMG_4867.jpg"
  ]),
  new Profile("Wiktor", 22, "Swipe right", [
    "images/optimized/IMG_5424.jpg",
    "images/optimized/IMG_5435.jpg"
  ]),
  new Profile("Wiktor", 22, "Chod≈º na randkƒô, zam√≥wie ≈ºeberka a ty okrzczysz kelnerkƒô ≈ºe jeszcze nie przysz≈Çy", [
    "images/optimized/IMG_5483.jpg",
    "images/optimized/IMG_5527.jpg",
    "images/optimized/IMG_5629.jpg"
  ]),
  new Profile("Wiktor", 22, "Jak bƒôdziemy razem to zrobie Ci prywatnego Timdera", [
    "images/optimized/IMG_5828.jpg"
  ])
];


let profiles = [];
const batchSize = 5; // ile kart ≈Çadowaƒá naraz


// ---- Elementy DOM ----
const deck = document.getElementById('deck');
const nameEl = document.getElementById('name');
const descEl = document.getElementById('desc');

function loadNextBatch() {
  const next = allProfiles.splice(0, batchSize);
  profiles.push(...next);
  renderStack();
}

// ---- Renderowanie stosu kart ----
function renderStack(){
deck.innerHTML = '';
// odwrotnie ‚Äî ostatni profil na spodzie
for(let i = profiles.length -1; i >= 0; i--){
const p = profiles[i];
const card = createCard(p);
// lekkie przesuniecie dla lepszego efektu warstw
const offset = (profiles.length -1 - i) * 1;
card.style.transform = `translateY(${offset}px)`;
deck.appendChild(card);
}
updateInfo();
}



function updateInfo(){
if(profiles.length === 0){
nameEl.textContent = 'Brak profili';
descEl.textContent = 'To ju≈º koniec ‚Äî od≈õwie≈º stronƒô, aby za≈Çadowaƒá ponownie.';
return;
}
const top = profiles[0];
nameEl.textContent = `${top.name}, ${top.age}`;
descEl.textContent = top.desc;
}

// ---- Tworzenie pojedynczej karty ----
function createCard(profile){
const el = document.createElement('div');
el.className = 'card';
el.innerHTML = `
  <img src="${profile.currentImgUrl()}" alt="${profile.name}" draggable="false" loading="lazy">
  <div class="stamp like">LIKE</div>
  <div class="stamp nope">NOPE</div>
`;


// zamiana zdjƒôcia po tapniƒôciu w lewƒÖ/prawƒÖ po≈Çowƒô
el.addEventListener('click', (ev) => {
// ignoruj je≈õli by≈Ç drag
if(el._isDragging) return;
const rect = el.getBoundingClientRect();
const x = ev.clientX - rect.left;
if(x > rect.width / 2){
profile.nextImage();
} else {
profile.prevImage();
}
const img = el.querySelector('img');
img.loading = "lazy"; 
img.src = profile.currentImgUrl();
updateInfo();
});

// obs≈Çuga dotyku / przesuniƒôƒá
let startX=0, startY=0, currentX=0, currentY=0, isPointerDown=false;


function onPointerDown(e){
isPointerDown = true;
el._isDragging = false;
startX = e.touches ? e.touches[0].clientX : e.clientX;
startY = e.touches ? e.touches[0].clientY : e.clientY;
el.style.transition = 'none';
}
function onPointerMove(e){
if(!isPointerDown) return;
const clientX = e.touches ? e.touches[0].clientX : e.clientX;
const clientY = e.touches ? e.touches[0].clientY : e.clientY;
currentX = clientX - startX;
currentY = clientY - startY;
if(Math.abs(currentX) > 5) el._isDragging = true;
const rot = currentX / 12;
el.style.transform = `translate(${currentX}px, ${currentY}px) rotate(${rot}deg)`;
// overlayy
const likeStamp = el.querySelector('.stamp.like');
const nopeStamp = el.querySelector('.stamp.nope');
if(currentX > 0){
likeStamp.classList.add('visible');
likeStamp.style.opacity = Math.min(1, Math.abs(currentX) / 120);
nopeStamp.classList.remove('visible');
} else if(currentX < 0){
nopeStamp.classList.add('visible');
nopeStamp.style.opacity = Math.min(1, Math.abs(currentX) / 120);
likeStamp.classList.remove('visible');
} else {
likeStamp.classList.remove('visible');
nopeStamp.classList.remove('visible');
}
}

function onPointerUp(e){
if(!isPointerDown) return;
isPointerDown = false;
el.style.transition = '';
const threshold = el.clientWidth * 0.28; // pr√≥g do akcji
if(Math.abs(currentX) > threshold){
// wykonaj akcjƒô
const toRight = currentX > 0;
const endX = (toRight ? el.clientWidth * 1.4 : -el.clientWidth * 1.4);
el.style.transition = 'transform .45s cubic-bezier(.22,.9,.26,1), opacity .3s';
el.style.transform = `translate(${endX}px, ${currentY}px) rotate(${toRight?30:-30}deg)`;
el.classList.add('removed');
// ma≈Çe op√≥≈∫nienie, ≈ºeby animacja zdƒÖ≈ºy≈Ça
setTimeout(() => {
  if (profiles[0] && profiles[0] === profile) {
    profiles.shift();
  } else {
    const idx = profiles.indexOf(profile);
    if (idx > -1) profiles.splice(idx, 1);
  }

  if (profiles.length === 0 && allProfiles.length > 0) {
    loadNextBatch(); // do≈Çaduj kolejne karty
  } else {
    renderStack();
  }
}, 300);


} else {
    // je≈õli przesuniƒôcie by≈Ço za ma≈Çe ‚Äì wr√≥ƒá do pozycji startowej
    el.style.transform = '';
    const likeStamp = el.querySelector('.stamp.like');
    const nopeStamp = el.querySelector('.stamp.nope');
    likeStamp.classList.remove('visible');
    nopeStamp.classList.remove('visible');
}
currentX = 0;
currentY = 0;
}

// podpiƒôcie event√≥w dotyku/myszy
el.addEventListener('mousedown', onPointerDown);
el.addEventListener('touchstart', onPointerDown);
el.addEventListener('mousemove', onPointerMove);
el.addEventListener('touchmove', onPointerMove);
el.addEventListener('mouseup', onPointerUp);
el.addEventListener('touchend', onPointerUp);

return el;
}

// ---- Inicjalizacja ----
loadNextBatch();

document.getElementById('nopeBtn').addEventListener('click', () => {
  if(profiles.length === 0) return;
  const topCard = deck.firstChild;
  const event = new MouseEvent('mouseup', {clientX: 0});
  topCard.dispatchEvent(event);
});

document.getElementById('likeBtn').addEventListener('click', () => {
  if(profiles.length === 0) return;
  const topCard = deck.firstChild;
  const event = new MouseEvent('mouseup', {clientX: topCard.clientWidth + 1});
  topCard.dispatchEvent(event);
});
</script>
